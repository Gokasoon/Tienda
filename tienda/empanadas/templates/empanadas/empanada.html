{% extends 'empanadas/base.html' %}

{% block title %}Détail d'une empanada{% endblock %}

{% block main %}
<h2>{{empanada}}</h2>
<table class="table table-sm table-striped">
    <thead class="thead-dark">
        <tr>
            <th>Ingrédient</th>
            <th>Quantité</th>
        </tr>
    </thead>
    <tbody>
        {% for ingr, qt in recette.items %}
        <tr>
            <td>{{ingr.nomIngredient}}</td>
            <td>{{qt}} gr</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
<h2>Ajouter un ingrédient à la recette</h2>
<form action="/empanada/{{empanada.idEmpanada}}/addIngredient" method="POST">
    {% csrf_token %}
    <div class="m-3">
        <label for="id_ingredient" class="form-label">
            Ingrédient
        </label>
        <select id="id_ingredient" name="ingredient" class="form-select" required>
            <option selected disabled>Choisir</option>
            {% for ingr in ingredients %}
            <option value="{{ingr.idIngredient}}">{{ingr.nomIngredient}}</option>
            {% endfor %}
        </select>
    </div>
    <div class="m-3">
        <label for="id_quantite" class="form-label">
            Quantité
        </label>
        <input id="id_quantite" name="quantite" type="text" maxlength="100" required class="form-control"/>
    </div>
    <button type="submit" class="btn btn-primary">Ajouter</button>
</form>
{% endblock %}